%p
%section.box#nav
  %author{:style => 'float:right'}= t('details', :scope=>'docs', :date=>@topic.date, :author=>@topic.author, :license=>@topic.license)
  %h3= t('.nav')
  %ol  
    - p = @topic.parent
    - while !p.name.eql? 'root'
      %li{:title=>t('details', :scope=>'docs', :date=>p.date, :author=>p.author, :license=>p.license)}
        = link_to p.description, docs_topic_path(:id=>p.name)
      - p = p.parent
    %li= link_to t('docs.root'), docs_path
  -if Rails.env.eql? 'development'
    = "Source File: #{@file}"


%topic= @text.html_safe

- if @topic.children.length > 0
  %section.box#children
    %h3= t '.children'
    %ol
      - @topic.children.each do |section|
        %li{:title=>t('details', :scope=>'docs', :date=>section.date, :author=>section.author, :license=>section.license)}
          = link_to section.description, docs_topic_path(:id=>section.name)
          = "(p=#{section.parent_name}, o=#{section.order})" if Rails.env == 'development'

.clear
